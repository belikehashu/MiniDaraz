{% extends "base.html" %}
{% block title %}Confirm Order{% endblock %}

{% block content %}
<div style="max-width: 720px; margin: 40px auto; padding: 35px; background-color: #ffffff; border: 1px solid #ddd; border-radius: 12px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);">

  <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">Confirm Your Order</h2>

  {% for item in items %}
    <div style="display: flex; align-items: center; border: 1px solid #eee; border-radius: 8px; padding: 15px; margin-bottom: 15px; background-color: #fafafa; box-shadow: 0 1px 5px rgba(0, 0, 0, 0.04);">
      <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}"
           style="width: 60px; height: 60px; object-fit: cover; border-radius: 5px; margin-right: 15px; border: 1px solid #ccc;">

      <div>
        <p style="margin: 0; font-weight: bold;" title="{{ item.product.name }}">
          {{ item.product.name|slice:":80" }}{% if item.product.name|length > 80 %}...{% endif %}
        </p>
        <p style="margin: 4px 0 0; color: #555;">Qty: {{ item.quantity }}</p>
        <p style="margin: 2px 0 0; color: #777;">Rs. {{ item.product.price }}</p>
      </div>
    </div>
  {% endfor %}

  <div style="text-align: right; font-size: 18px; font-weight: bold; color: #2c3e50; margin-top: 10px;">
    Total Price: Rs. {{ total_price }}
  </div>

  <form method="post" style="margin-top: 35px;">
    {% csrf_token %}
    <div style="margin-bottom: 20px;">
      <label for="id_address" style="font-weight: 600; display: block; margin-bottom: 6px;">Select Delivery Address:</label>
      {{ form.address }}
    </div>

    <div style="text-align: center; margin-top: 20px;">
      <button type="submit"
              style="padding: 12px 24px; background-color: #3498db; color: white; font-weight: bold; border: none; border-radius: 6px; font-size: 16px;">
        Place Order
      </button>
    </div>
  </form>

  <div style="text-align: center; margin-top: 30px;">
    <a href="{% url 'cart_view' %}" style="color: #2980b9;">‚Üê Go Back to Cart</a>
  </div>
</div>

<style>
  select, input, textarea {
    width: 100% !important;
    padding: 10px;
    font-size: 15px;
    border: 1px solid #ccc;
    border-radius: 6px;
    box-sizing: border-box;
  }
</style>
{% endblock %}
